<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulation professionnelle ‚Äì 50 situations</title>

<style>
body{
  font-family:Arial, sans-serif;
  background:#eef3f9;
  padding:20px;
}
.container{
  max-width:820px;
  margin:auto;
  background:white;
  padding:30px;
  border-radius:18px;
  box-shadow:0 6px 25px rgba(0,0,0,.12);
}
h1{
  text-align:center;
  color:#004c97;
  margin-bottom:10px;
}

/* RESET */
.resetBtn{
  float:right;
  background:#eee;
  color:#444;
  border:1px solid #ccc;
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
  font-size:14px;
}
.resetBtn:hover{background:#ddd}

.progress{
  text-align:center;
  font-weight:bold;
  margin:15px 0;
}
.scenario{
  font-size:18px;
  background:#f4f7ff;
  padding:20px;
  border-radius:12px;
  margin-bottom:20px;
}
button.choice{
  width:100%;
  padding:14px;
  margin:8px 0;
  font-size:16px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  background:#e6ecff;
}
button.choice:hover{background:#d6e0ff}
.correct{background:#c8f2d0}
.incorrect{background:#f8c8c8}

#feedback{
  text-align:center;
  font-weight:bold;
  margin-top:15px;
}
#next{
  display:none;
  background:#3f71ff;
  color:white;
  margin-top:15px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
}
#end{
  display:none;
  text-align:center;
}
</style>
  <link rel="stylesheet" href="../../exercise-layout.css">
  <script defer src="../../exercise-layout.js"></script>
</head>

<body>

<div class="back-home" style="max-width:1100px;margin:10px auto 0;padding:0 20px;">
  <a class="back-home__link" href="../../index.html" style="display:inline-flex;align-items:center;gap:6px;text-decoration:none;color:#004c6d;font-weight:700;border:1px solid #cfdff0;padding:6px 14px;border-radius:999px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.08);">‚Üê Retour √† l‚Äôindex</a>
</div>
<script src="../shared/proactif-exercise.js"></script>
<div class="exercise-shell">
  <main class="exercise-card">


<div class="container">

<button class="resetBtn" onclick="resetGame()">‚ôªÔ∏è R√©initialiser</button>

<h1>üé≠ Simulation de situations professionnelles</h1>

<div class="progress" id="progress"></div>
<div class="scenario" id="scenario"></div>
<div id="choices"></div>
<div id="feedback"></div>

<button id="next" onclick="next()">‚ñ∂Ô∏è Situation suivante</button>

<div id="end">
  <h2>‚úÖ Bravo</h2>
  <p>Vous avez termin√© les 50 situations professionnelles.</p>
  <p><strong>Message cl√© :</strong><br>
  Au travail, restez calme, respectueux et professionnel.</p>
</div>

</div>

<script>
const scenarios = [
["Vous arrivez en retard au travail.",["Vous vous excusez et expliquez la situation.","Vous ne dites rien.","Vous commencez √† travailler sans parler."],0],
["Vous ne comprenez pas une consigne.",["Vous demandez une explication.","Vous faites au hasard.","Vous dites oui sans comprendre."],0],
["Vous souhaitez faire une pause.",["Vous demandez l‚Äôautorisation.","Vous partez sans pr√©venir.","Vous attendez la fin de la journ√©e."],0],
["Vous √™tes malade.",["Vous pr√©venez votre responsable.","Vous ne venez pas sans pr√©venir.","Vous attendez le lendemain."],0],
["Un coll√®gue vous parle mal.",["Vous r√©pondez calmement.","Vous criez.","Vous l‚Äôinsultez."],0],
["Votre responsable vous parle.",["Vous √©coutez attentivement.","Vous l‚Äôinterrompez.","Vous partez."],0],
["Vous avez termin√© votre travail.",["Vous partez.","Vous demandez s‚Äôil y a autre chose √† faire.","Vous attendez sans rien faire."],1],
["Vous avez fait une erreur.",["Vous la cachez.","Vous la signalez et demandez comment corriger.","Vous accusez un coll√®gue."],1],
["Un client n‚Äôest pas content.",["Vous l‚Äôignorez.","Vous √©coutez et restez poli.","Vous riez."],1],
["Votre t√©l√©phone personnel sonne.",["Vous r√©pondez.","Vous l‚Äôignorez.","Vous demandez l‚Äôautorisation."],2],

["Vous devez changer d‚Äôhoraire.",["Vous pr√©venez √† l‚Äôavance.","Vous venez quand vous voulez.","Vous ne dites rien."],0],
["Une consigne est donn√©e rapidement.",["Vous prenez des notes.","Vous oubliez.","Vous dites oui."],0],
["Le travail est difficile.",["Vous refusez.","Vous faites votre travail.","Vous partez."],1],
["Vous √™tes fatigu√©.",["Vous vous plaignez.","Vous continuez calmement.","Vous dormez."],1],
["Le mat√©riel est cass√©.",["Vous signalez le probl√®me.","Vous cachez le mat√©riel.","Vous le jetez."],0],

["La pause est termin√©e.",["Vous revenez travailler.","Vous restez en pause.","Vous partez."],0],
["Votre responsable vous corrige.",["Vous √©coutez.","Vous vous √©nervez.","Vous partez."],0],
["Un client vous parle longtemps.",["Vous √©coutez.","Vous l‚Äôignorez.","Vous riez."],0],
["Vous ne savez pas quoi faire.",["Vous demandez de l‚Äôaide.","Vous faites n‚Äôimporte quoi.","Vous attendez sans rien dire."],0],
["Vous avez un retard de transport.",["Vous pr√©venez.","Vous arrivez sans pr√©venir.","Vous n‚Äôallez pas travailler."],0],

["Vous recevez une nouvelle t√¢che.",["Vous acceptez.","Vous refusez.","Vous partez."],0],
["Votre tenue n‚Äôest pas propre.",["Vous vous changez.","Vous continuez.","Vous ignorez."],0],
["Vous avez fini plus t√¥t.",["Vous regardez votre t√©l√©phone.","Vous demandez s‚Äôil faut aider.","Vous partez."],1],
["Un coll√®gue a un probl√®me.",["Vous l‚Äôaidez.","Vous l‚Äôignorez.","Vous vous moquez."],0],
["Votre responsable n‚Äôest pas l√†.",["Vous continuez √† travailler.","Vous partez.","Vous ne faites rien."],0],

["Vous ne comprenez pas un e-mail.",["Vous demandez une explication.","Vous l‚Äôignorez.","Vous le supprimez."],0],
["C‚Äôest l‚Äôheure de la pause.",["Vous respectez l‚Äôhoraire.","Vous prenez plus de temps.","Vous partez."],0],
["Le travail semble dangereux.",["Vous signalez le probl√®me.","Vous continuez.","Vous ignorez."],0],
["Une nouvelle r√®gle est annonc√©e.",["Vous √©coutez.","Vous refusez.","Vous riez."],0],
["Un client arrive.",["Vous dites bonjour.","Vous l‚Äôignorez.","Vous fumez."],0],

["Un coll√®gue fait une erreur.",["Vous l‚Äôaidez.","Vous l‚Äôinsultez.","Vous l‚Äôignorez."],0],
["Vous √™tes stress√©.",["Vous respirez et continuez.","Vous criez.","Vous abandonnez."],0],
["Vous terminez une t√¢che.",["Vous rangez.","Vous partez.","Vous laissez le d√©sordre."],0],
["Vous ne savez pas √©crire un message.",["Vous demandez de l‚Äôaide.","Vous inventez.","Vous cachez."],0],
["Un client est press√©.",["Vous faites de votre mieux.","Vous l‚Äôignorez.","Vous riez."],0],

["La consigne est orale.",["Vous redemandez.","Vous oubliez.","Vous faites faux."],0],
["Vous devez attendre.",["Vous attendez calmement.","Vous partez.","Vous vous √©nervez."],0],
["Votre responsable donne un ordre.",["Vous le respectez.","Vous refusez.","Vous riez."],0],
["Vous souhaitez fumer.",["Vous demandez l‚Äôautorisation.","Vous partez.","Vous fumez."],0],

["Un nouveau coll√®gue arrive.",["Vous l‚Äôaidez.","Vous l‚Äôignorez.","Vous jugez."],0],
["La journ√©e se termine.",["Vous rangez votre poste.","Vous partez vite.","Vous laissez le d√©sordre."],0],
["Vous recevez un message de l‚ÄôORP.",["Vous r√©pondez.","Vous ignorez.","Vous supprimez."],0],
["Votre planning change.",["Vous vous adaptez.","Vous criez.","Vous partez."],0],
["Un client est tr√®s √©nerv√©.",["Vous restez calme.","Vous vous √©nervez.","Vous partez."],0]
];

let i=0, score=0;
const KEY="simulation50_vous";

const saved=JSON.parse(localStorage.getItem(KEY));
if(saved){i=saved.i; score=saved.score;}

function save(){
  localStorage.setItem(KEY,JSON.stringify({i,score}));
}

function show(){
  document.getElementById("progress").innerText=
    "Situation "+(i+1)+" / 50 ‚Äî ‚úÖ "+score;
  document.getElementById("scenario").innerText=scenarios[i][0];
  const c=document.getElementById("choices");
  c.innerHTML="";
  scenarios[i][1].forEach((t,n)=>{
    const b=document.createElement("button");
    b.className="choice";
    b.innerText=t;
    b.onclick=()=>check(n,b);
    c.appendChild(b);
  });
}

function check(n,b){
  document.querySelectorAll(".choice").forEach(x=>x.disabled=true);
  if(n===scenarios[i][2]){
    b.classList.add("correct");
    document.getElementById("feedback").innerText="‚úÖ R√©action professionnelle";
    score++;
  }else{
    b.classList.add("incorrect");
    document.getElementById("feedback").innerText="‚ùå R√©action non professionnelle";
  }
  document.getElementById("next").style.display="block";
  save();
}

function next(){
  document.getElementById("feedback").innerText="";
  document.getElementById("next").style.display="none";
  i++;
  if(i>=scenarios.length){
    document.getElementById("scenario").style.display="none";
    document.getElementById("choices").style.display="none";
    document.getElementById("end").style.display="block";
    localStorage.removeItem(KEY);
    if (window.proactifMarkExerciseDone) {
      try { window.proactifMarkExerciseDone(); } catch (e) { }
    }
  }else show();
}

function resetGame(){
  localStorage.removeItem(KEY);
  location.reload();
}

show();
</script>
  </main>
</div>

</body>
</html>
