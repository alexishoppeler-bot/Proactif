<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>R√©√©criture ‚Äì 100 phrases</title>

<style>

/* MODE CLAIR */
:root {
    --bg: #f5f7ff;
    --text: #1a1a1a;
    --card: #ffffff;
    --primary: #3f71ff;
    --secondary: #f2982c;
    --border: #d6d8e0;
}

/* MODE SOMBRE */
body.dark {
    --bg: #121212;
    --text: #e8e8e8;
    --card: #1f1f1f;
    --primary: #6f94ff;
    --secondary: #ffbb6a;
    --border: #444;
}

body {
    background: var(--bg);
    font-family: Arial;
    margin:0;
    padding:40px;
    display:flex;
    justify-content:center;
    transition:0.3s;
}

#container {
    width:100%;
    max-width:850px;
    background:var(--card);
    padding:40px;
    border-radius:18px;
    box-shadow:0 4px 18px rgba(0,0,0,0.15);
    transition:0.3s;
}

h1,h2,p,label,span {
    color:var(--text);
}

/* Bouton mode sombre */
#darkToggle {
    position:absolute;
    top:20px;
    right:20px;
    background:var(--primary);
    color:white;
    padding:12px 18px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
}

/* Barre de progression */
#progressBar {
    width:100%;
    height:14px;
    background:#e2e5f2;
    border-radius:10px;
    overflow:hidden;
    margin-bottom:20px;
}
#progressInner {
    height:100%;
    width:0%;
    background:var(--primary);
    transition:0.3s;
}

/* Phrase mod√®le */
#phrase {
    font-size:20px;
    background:#dde4ff;
    padding:18px;
    border-left:6px solid var(--primary);
    border-radius:10px;
    user-select:none;
    margin-bottom:20px;
}

/* Zone r√©ponse */
textarea {
    width:100%;
    height:150px;
    padding:15px;
    font-size:18px;
    border-radius:12px;
    border:2px solid var(--border);
    background:var(--card);
    color:var(--text);
    outline:none;
    transition:0.25s;
}
textarea:focus {
    border-color:var(--primary);
}

/* Boutons */
button {
    padding:14px 26px;
    border:none;
    border-radius:10px;
    font-size:18px;
    cursor:pointer;
    margin:5px;
    transition:0.2s;
}
.btn-primary { background:var(--primary); color:white; }
.btn-primary:hover { background:#2b5be0; }

.btn-green { background:#00a86b; color:white; }
.btn-green:hover { background:#007e50; }

.btn-orange { background:var(--secondary); color:white; }
.btn-orange:hover { background:#d98524; }

.btn-red { background:#d62828; color:white; }
.btn-red:hover { background:#b31f1f; }

/* Messages */
.ok { color:#0a9b39; font-weight:bold; font-size:20px; }
.error { color:#cc0000; font-weight:bold; font-size:20px; }

/* Pages */
#accueil { display:block; }
#exercice { display:none; }

</style>
  <link rel="stylesheet" href="../../exercise-layout.css">
  <script defer src="../../exercise-layout.js"></script>
</head>

<body>

<div class="back-home" style="max-width:1100px;margin:10px auto 0;padding:0 20px;">
  <a class="back-home__link" href="../../index.html" style="display:inline-flex;align-items:center;gap:6px;text-decoration:none;color:#004c6d;font-weight:700;border:1px solid #cfdff0;padding:6px 14px;border-radius:999px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.08);">‚Üê Retour √† l‚Äôindex</a>
</div>
<script src="../shared/proactif-exercise.js"></script>
<div class="exercise-shell">
  <main class="exercise-card">



<button id="darkToggle" onclick="toggleDark()">üåô Mode sombre</button>

<div id="container">

<!-- ACCUEIL -->
<div id="accueil">
    <h1>R√©√©criture de 100 phrases</h1>
    <p style="font-size:19px;line-height:1.5;">
        Exercice d‚Äô√©criture avec sauvegarde automatique<br>
        et validation tol√©rante pour accompagner votre progression.
    </p>

    <label style="font-size:18px;">Votre nom :</label><br>
    <input id="nom" type="text" 
           style="margin-top:10px;font-size:20px;padding:10px;width:60%;
           border-radius:10px;border:2px solid var(--border);"><br><br>

    <button class="btn-primary" onclick="commencer()">Commencer</button>
</div>

<!-- EXERCICE -->
<div id="exercice">

    <div id="progressBar"><div id="progressInner"></div></div>

    <h2>Exercice <span id="numEx">1</span> / 100</h2>

    <div id="phrase"></div>

    <textarea id="reponse" placeholder="√âcrivez ici‚Ä¶"></textarea>

    <br>
    <button class="btn-primary" onclick="valider()">Valider</button>
    <button id="btnSuivant" class="btn-green" style="display:none;" onclick="suivant()">Suivant</button>

    <div id="message" style="margin-top:15px;"></div>

    <br>
    <button class="btn-red" onclick="resetData()">üîÑ R√©initialiser</button>

</div>

<script>
/* ===========================================================
   LISTE DES PHRASES (PARTIE 2 SUIVANTE)
=========================================================== */
/* ===========================================================
   100 PHRASES LONGUES
=========================================================== */

const phrases = [
"Aujourd‚Äôhui, je suis motiv√© et je veux vraiment progresser dans mon apprentissage du fran√ßais.",
"Je fais un effort chaque jour pour √©crire correctement et am√©liorer mes comp√©tences en communication.",
"Je viens en cours pour apprendre, pratiquer et devenir plus autonome dans mon travail futur.",
"J‚Äôai envoy√© mon CV hier soir et j‚Äôattends une r√©ponse de l‚Äôentreprise qui m‚Äôint√©resse.",
"Je suis √† l‚Äôheure tous les jours, parce que c‚Äôest important pour le travail et le respect des autres.",
"Je veux trouver un emploi stable pour construire un bon avenir pour moi et ma famille.",
"Je fais de mon mieux pour comprendre les consignes et suivre le rythme de la formation.",
"Je relis mes phrases avant de valider l‚Äôexercice afin d‚Äô√©viter les fautes d‚Äôorthographe.",
"Je suis fier de mes progr√®s, m√™me si j‚Äôai encore beaucoup de choses √† apprendre.",
"Je suis disponible rapidement et pr√™t √† commencer un nouveau travail dans une entreprise motivante.",
"Je pratique la dactylographie pour taper plus vite et plus correctement sur l‚Äôordinateur.",
"J‚Äôaime apprendre le fran√ßais, car cela m‚Äôaide √† mieux communiquer dans la vie de tous les jours.",
"Je cherche un travail o√π je peux utiliser mes comp√©tences et continuer √† progresser.",
"Je veux √™tre autonome dans l‚Äôutilisation de Word et dans l‚Äô√©criture des documents professionnels.",
"Je suis pr√™t √† travailler le matin, l‚Äôapr√®s-midi ou le soir, selon les besoins de l‚Äôentreprise.",
"Je peux me d√©placer facilement en bus, en train ou √† pied pour aller travailler sans probl√®me.",
"J‚Äôutilise Google Maps pour v√©rifier mon trajet et planifier mon heure de d√©part correctement.",
"Je suis s√©rieux, ponctuel et motiv√© pour r√©ussir dans mon futur emploi.",
"Je fais attention √† ma pr√©sentation et √† ma communication quand je parle avec un employeur.",
"Je suis capable de lire une annonce d‚Äôemploi et de comprendre les informations importantes.",
"J‚Äôai besoin de pratiquer encore beaucoup pour √©crire plus vite sur le clavier de l‚Äôordinateur.",
"Je me corrige quand je fais une erreur, car cela me permet d‚Äôapprendre plus facilement.",
"Je suis calme et concentr√© pendant les exercices pour √©viter les fautes dans mes phrases.",
"Je veux r√©ussir ma formation et trouver un emploi qui me correspond vraiment.",
"Je prends des notes dans mon cahier pour ne rien oublier et pour r√©viser √† la maison.",
"Je suis motiv√© √† continuer mes efforts, m√™me si parfois c‚Äôest difficile.",
"Je demande de l‚Äôaide quand je ne comprends pas une consigne ou un exercice.",
"Je peux √©crire un message simple et poli pour demander un rendez-vous professionnel.",
"Je comprends que la pratique est importante pour progresser chaque jour.",
"Je lis attentivement les phrases avant de les recopier pour √©viter les erreurs.",
"Je travaille mes comp√©tences num√©riques pour √™tre plus autonome dans le futur.",
"Je fais attention aux caract√®res dans les mots, car ils sont importants pour bien √©crire.",
"Je veux am√©liorer ma vitesse d‚Äô√©criture pour √™tre plus efficace sur l‚Äôordinateur.",
"Je suis motiv√© pour apprendre de nouvelles choses et √©voluer dans mon travail.",
"Je pratique l‚Äô√©criture pour gagner en confiance lors de mes recherches d‚Äôemploi.",
"Je suis pr√™t √† faire des efforts chaque jour pour avancer vers mes objectifs.",
"Je prends mon avenir au s√©rieux et je veux faire les choses correctement.",
"J‚Äôaime apprendre dans une bonne ambiance, car cela me donne envie de venir en formation.",
"Je suis heureux de voir mes progr√®s et je veux continuer dans cette direction.",
"Je veux √©crire correctement pour communiquer facilement avec les entreprises.",
"Je fais un effort pour utiliser les bons mots et les bonnes phrases dans mes messages.",
"J‚Äôapprends √† organiser mes documents pour ne rien perdre et rester bien pr√©par√©.",
"Je dois envoyer mes candidatures chaque semaine pour avancer dans ma recherche d‚Äôemploi.",
"Je peux demander des informations simples dans un magasin ou dans une administration.",
"Je suis capable de lire l‚Äôheure et les dates importantes dans les documents.",
"Je fais attention aux d√©tails pour √©viter les erreurs dans mes dossiers administratifs.",
"Je suis poli quand j‚Äô√©cris un message ou un e-mail professionnel.",
"Je peux expliquer mes disponibilit√©s √† un employeur pendant un entretien.",
"Je me pr√©pare toujours avant un rendez-vous important pour √™tre plus √† l‚Äôaise.",
"Je suis capable de suivre une consigne simple si elle est bien expliqu√©e.",
"Je comprends l‚Äôimportance d‚Äô√™tre ponctuel quand j‚Äôai un rendez-vous professionnel.",
"Je lis mes documents administratifs pour comprendre les informations importantes.",
"Je prends le temps de bien √©crire pour √©viter les fautes dans mes textes.",
"Je fais des efforts pour am√©liorer mon fran√ßais chaque jour.",
"Je suis motiv√© √† trouver un travail qui me pla√Æt et qui correspond √† mes comp√©tences.",
"Je comprends l‚Äôimportance d‚Äôavoir un bon CV pour attirer les employeurs.",
"Je fais attention √† la qualit√© de mes documents pour donner une bonne impression.",
"Je pratique les exercices pour am√©liorer ma vitesse et ma pr√©cision en √©criture.",
"Je peux d√©crire mes qualit√©s simples pendant un entretien d‚Äôembauche.",
"Je suis capable de parler de mon exp√©rience professionnelle avec des phrases simples.",
"Je comprends que la r√©p√©tition est importante pour progresser dans l‚Äô√©criture.",
"Je relis mes textes avant de les envoyer pour v√©rifier s‚Äôil y a des erreurs.",
"Je suis plus √† l‚Äôaise avec l‚Äôordinateur gr√¢ce √† la pratique quotidienne.",
"Je comprends mieux les consignes gr√¢ce aux exercices r√©p√©t√©s.",
"Je veux am√©liorer ma compr√©hension pour √™tre plus autonome en Suisse.",
"Je peux √©crire une petite phrase correcte pour r√©pondre √† un employeur.",
"Je suis fier de mes efforts m√™me si le chemin est encore long.",
"Je suis patient et j‚Äôavance doucement mais s√ªrement vers mes objectifs.",
"Je fais attention √† bien taper les accents dans les mots importants.",
"Je suis capable de recopier des phrases longues sans faire trop d‚Äôerreurs.",
"Je veux m‚Äôam√©liorer dans la communication pour trouver un emploi plus facilement.",
"Je peux √©crire un message simple pour confirmer un rendez-vous.",
"Je prends mon temps pour bien √©crire, car je veux faire les choses correctement.",
"Je sais que la pers√©v√©rance est importante pour r√©ussir dans la vie professionnelle.",
"Je fais attention √† ma posture quand j‚Äô√©cris sur l‚Äôordinateur pour ne pas me fatiguer.",
"Je me sens plus confiant quand je r√©ussis un exercice difficile.",
"Je veux apprendre √† √©crire des phrases plus longues pour progresser en fran√ßais.",
"Je suis capable d‚Äô√©crire un petit texte pour me pr√©senter √† un employeur.",
"Je fais un effort pour utiliser un vocabulaire simple mais correct.",
"Je comprends que chaque exercice m‚Äôaide √† progresser un peu plus.",
"Je veux √™tre autonome dans mes d√©marches administratives en Suisse.",
"Je peux √©crire une phrase pour expliquer pourquoi je suis motiv√©.",
"Je suis capable d‚Äô√©crire un message poli pour demander des informations.",
"Je travaille avec s√©rieux pour r√©ussir dans ma formation.",
"Je prends le temps de bien taper chaque lettre pour √©viter les fautes.",
"Je veux am√©liorer ma vitesse d‚Äô√©criture sans perdre la qualit√©.",
"Je peux √©crire un texte simple pour parler de ma journ√©e.",
"Je comprends que la pratique est la cl√© pour progresser.",
"Je veux √©crire clairement pour que les autres comprennent mes messages.",
"Je veux apprendre √† √©crire correctement pour √™tre plus professionnel.",
"Je suis motiv√© √† continuer mes efforts chaque semaine.",
"J‚Äôapprends de mes erreurs et je ne me d√©courage pas.",
"Je sais que je progresse m√™me si ce n‚Äôest pas toujours facile.",
"Je suis pr√™t √† faire des exercices plus difficiles pour avancer.",
"Je fais attention √† l‚Äôorthographe pour am√©liorer mes textes.",
"Je peux √©crire un message simple pour r√©pondre √† une invitation.",
"Je travaille chaque jour pour devenir plus autonome.",
"Je suis heureux de voir mes progr√®s dans l‚Äô√©criture.",
"Je continue mes efforts pour atteindre mes objectifs professionnels.",
"Je veux r√©ussir ma formation pour avoir un meilleur avenir."
];

/* ===========================================================
   VARIABLES + SAUVEGARDE
=========================================================== */

let index = 0;
let startTime;
let participant = "";
let reponses = new Array(phrases.length).fill("");

/* R√©cup√©ration sauvegarde */
if (localStorage.getItem("reponses100")) {
    reponses = JSON.parse(localStorage.getItem("reponses100"));
}
if (localStorage.getItem("exerciceIndex")) {
    index = parseInt(localStorage.getItem("exerciceIndex"));
}

/* Sauvegarde auto */
document.addEventListener("input", () => {
    if (document.activeElement.id === "reponse") {
        reponses[index] = document.getElementById("reponse").value;
        localStorage.setItem("reponses100", JSON.stringify(reponses));
        localStorage.setItem("exerciceIndex", index);
    }
});

/* ===========================================================
   D√âBUT DES FONCTIONS (PARTIE 3 SUIVANTE)
=========================================================== */
/* ===========================================================
   FONCTIONS PRINCIPALES
=========================================================== */

function commencer() {
    participant = document.getElementById("nom").value.trim();

    if (!participant) {
        alert("Veuillez √©crire votre nom avant de commencer.");
        return;
    }

    startTime = Date.now();

    document.getElementById("accueil").style.display = "none";
    document.getElementById("exercice").style.display = "block";

    afficher();
}

function afficher() {
    document.getElementById("numEx").innerText = index + 1;
    document.getElementById("phrase").innerText = phrases[index];
    document.getElementById("reponse").value = reponses[index] || "";
    document.getElementById("message").innerHTML = "";
    document.getElementById("btnSuivant").style.display = "none";

    updateProgress();
}

/* ===========================================================
   BARRE DE PROGRESSION
=========================================================== */
function updateProgress() {
    const pct = (index / phrases.length) * 100;
    document.getElementById("progressInner").style.width = pct + "%";
}

/* ===========================================================
   VALIDATION TOL√âRANTE
=========================================================== */

function nettoyer(txt) {
    return txt
        .toLowerCase()
        .replace(/‚Äô/g, "'")
        .replace(/[‚Äì‚Äî]/g, "-")
        .replace(/\s+/g, " ")
        .replace(/[.,!?;:]/g, "")
        .trim();
}

const messages = [
    "Tr√®s bien, continue !",
    "Bravo, tu progresses !",
    "Excellent travail !",
    "Super, continue comme √ßa !",
    "F√©licitations, bonne √©criture !"
];

function valider() {
    const attendu = phrases[index];
    const ecrit   = document.getElementById("reponse").value;

    reponses[index] = ecrit;

    if (nettoyer(attendu) === nettoyer(ecrit)) {

        const msg = messages[Math.floor(Math.random() * messages.length)];

        document.getElementById("message").innerHTML =
            `<span class="ok">‚úî Correct ! ${msg}</span>`;

        document.getElementById("btnSuivant").style.display = "inline-block";
    } else {
        document.getElementById("message").innerHTML =
            `<span class="error">‚ùå Presque‚Ä¶ corrige encore un peu.</span>`;
    }
}

/* ===========================================================
   SUIVANT
=========================================================== */
function suivant() {
    index++;

    if (index < phrases.length) afficher();
    else fin();
}

/* ===========================================================
   FIN : CERTIFICAT
=========================================================== */

function fin() {

    const dureeMin = Math.max(1, Math.floor((Date.now() - startTime) / 60000));

    document.getElementById("exercice").innerHTML = `
        <h1>Bravo ${participant} üéâ</h1>
        <p style="font-size:22px;">Vous avez termin√© les 100 exercices.</p>
        <p style="font-size:18px;margin-top:10px;">Dur√©e estim√©e : ${dureeMin} minutes.</p>
    `;

    if (window.proactifMarkExerciseDone) {
        try { window.proactifMarkExerciseDone(); } catch (e) { }
    }
}

/* ===========================================================
   MODE SOMBRE
=========================================================== */

function toggleDark() {
    document.body.classList.toggle("dark");
}

/* ===========================================================
   ANTI-COPIE
=========================================================== */

document.addEventListener("contextmenu", function(e) {
    const modele = document.getElementById("phrase");
    if (modele.contains(e.target)) e.preventDefault();
});

document.addEventListener("keydown", function(e) {
    if (e.ctrlKey && ["c","v","x","a"].includes(e.key.toLowerCase())) {
        e.preventDefault();
    }
});

document.getElementById("phrase").ondragstart = () => false;

/* ===========================================================
   RESET
=========================================================== */

function resetData() {
    if (confirm("Effacer toutes les r√©ponses ?")) {
        localStorage.removeItem("reponses100");
        localStorage.removeItem("exerciceIndex");
        reponses = new Array(phrases.length).fill("");
        index = 0;
        afficher();
        alert("Donn√©es effac√©es.");
    }
}

</script>

</div>
  </main>
</div>

</body>
</html>
