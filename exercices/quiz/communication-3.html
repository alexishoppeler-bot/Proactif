<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Quiz C1 ‚Äì Communication professionnelle</title>

<style>
  body{
    font-family:Arial, sans-serif;
    background:#eef3f9;
    margin:0;
    padding:20px;
  }
  .container{
    max-width:800px;
    margin:auto;
    background:#fff;
    padding:20px;
    border-radius:12px;
    box-shadow:0 4px 20px rgba(0,0,0,0.2);
  }
  h2{
    color:#004c97;
    margin-top:0;
  }
  .scenario{
    font-weight:bold;
    margin-bottom:10px;
  }
  .option{
    background:#f0f4ff;
    border:1px solid #ccd9ff;
    padding:10px;
    border-radius:10px;
    margin:8px 0;
    cursor:pointer;
  }
  .option:hover{
    background:#dfe8ff;
  }
  .correct{
    color:green;
    font-weight:bold;
    margin-top:10px;
  }
  .wrong{
    color:red;
    font-weight:bold;
    margin-top:10px;
  }
  #resetBtn{
    display:none;
    background:#d9534f;
    color:white;
    border:none;
    padding:10px 15px;
    border-radius:8px;
    margin-top:20px;
    cursor:pointer;
  }
  .scoreBox{
    font-size:18px;
    font-weight:bold;
    margin-bottom:15px;
    color:#004c97;
  }
</style>
  <link rel="stylesheet" href="../../exercise-layout.css">
  <script defer src="../../exercise-layout.js"></script>
</head>

<body>

<div class="back-home" style="max-width:1100px;margin:10px auto 0;padding:0 20px;">
  <a class="back-home__link" href="../../index.html" style="display:inline-flex;align-items:center;gap:6px;text-decoration:none;color:#004c6d;font-weight:700;border:1px solid #cfdff0;padding:6px 14px;border-radius:999px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.08);">‚Üê Retour √† l‚Äôindex</a>
</div>
<script src="../shared/proactif-exercise.js"></script>
<div class="exercise-shell">
  <main class="exercise-card">



<!-- INTRO -->
<div id="intro" style="max-width:800px;margin:auto;background:#ffffff;padding:25px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.2);">
  <h2>Quiz C1 ‚Äì Communication professionnelle</h2>
  <p>üìò <b>Objectif :</b> G√©rer des situations complexes avec clients, coll√®gues et tensions.</p>
  <p>üéØ <b>Comp√©tences :</b></p>
  <ul>
    <li>Compr√©hension fine de sous-entendus.</li>
    <li>Analyse d‚Äôun conflit ou d‚Äôune situation sensible.</li>
    <li>Communication professionnelle avanc√©e.</li>
    <li>Choisir la meilleure strat√©gie relationnelle.</li>
  </ul>
  <p>‚≠ê <b>Score :</b> 1 point seulement si bonne r√©ponse du premier coup.</p>

  <button onclick="startQuiz()" style="background:#004c97;color:white;padding:12px 20px;border:none;border-radius:8px;cursor:pointer;font-size:16px;">Commencer</button>
</div>

<!-- QUIZ -->
<div class="container" id="quizContainer" style="display:none;">
  <h2>Quiz ‚Äì Communication professionnelle C1</h2>
  <div class="scoreBox">Score : <span id="score">0</span>/<span id="total">0</span></div>

  <div id="scenario" class="scenario"></div>
  <div id="options"></div>
  <div id="feedback"></div>

  <button id="resetBtn" onclick="resetAll()">R√©initialiser</button>
</div>

<script>
// ----------------------------------------------------
// 50 QUESTIONS C1 ‚Äì RELATION CLIENT / COMMUNICATION
// ----------------------------------------------------

const questions = [
  {text:"Un client dit d‚Äôun ton sec : ¬´ Je paie assez cher pour un service correct. ¬ª Quelle r√©action professionnelle est la plus appropri√©e ?", options:["Vous lui rappelez les r√®gles","Vous ignorez le ton et proposez une solution calmement","Vous lui dites qu‚Äôil exag√®re"], correct:1},

  {text:"Un client dit : ¬´ Ce n'est pas ce que j‚Äôai command√©, mais bon, laissez tomber. ¬ª Sous-entendu ?", options:["Il est satisfait","Il est en r√©alit√© contrari√© et attend une proposition","Il veut partir"], correct:1},

  {text:"Un coll√®gue vous √©crit : ¬´ Merci de valider rapidement, on attend ton retour pour avancer. ¬ª Que faire ?", options:["Vous validez ou expliquez ce qui manque","Vous attendez le lendemain","Vous demandez qui a d√©cid√© cela"], correct:0},

  {text:"Un client : ¬´ Je comprends que vous ayez beaucoup de travail, mais j‚Äôattends depuis 30 minutes‚Ä¶ ¬ª Quel est le but de cette phrase ?", options:["Se plaindre agressivement","Exprimer l‚Äôattente avec diplomatie","Quitter le service"], correct:1},

  {text:"Lors d‚Äôune tension, un coll√®gue dit : ¬´ Je pense qu‚Äôon ne se comprend pas. ¬ª Vous r√©pondez :", options:["¬´ Ce n‚Äôest pas mon probl√®me. ¬ª","¬´ Reformulons pour v√©rifier que nous parlons de la m√™me chose. ¬ª","¬´ J‚Äôai raison, c‚Äôest tout. ¬ª"], correct:1},

  {text:"Un client en col√®re parle fort. Votre premi√®re strat√©gie :", options:["Relever le ton aussi","Rester calme et baisser l‚Äôintensit√© de votre voix","Interrompre brutalement"], correct:1},

  {text:"Client : ¬´ √áa fait trois fois que j‚Äôexplique le probl√®me‚Ä¶ ¬ª Votre r√©ponse C1 :", options:["¬´ Oui mais ce n‚Äôest pas clair. ¬ª","¬´ Je comprends, je vais reformuler pour v√©rifier que j‚Äôai bien tout saisi. ¬ª","¬´ Calmez-vous. ¬ª"], correct:1},

  {text:"Un email interne indique : ¬´ Merci d‚Äô√©viter toute escalade avec ce client sensible. ¬ª Cela signifie :", options:["Rester factuel et √©viter les conflits","√ätre tr√®s strict","Ignorer le client"], correct:0},

  {text:"Un coll√®gue : ¬´ Je ne me sens pas √©cout√© dans cette √©quipe. ¬ª R√©ponse ad√©quate :", options:["¬´ Peut-√™tre que tu exag√®res. ¬ª","¬´ Je t‚Äô√©coute, dis-moi ce qui ne va pas. ¬ª","¬´ Ce n‚Äôest pas le moment. ¬ª"], correct:1},

  {text:"Client : ¬´ Votre coll√®gue m‚Äôa parl√© d‚Äôune solution, mais je ne suis plus certain‚Ä¶ ¬ª Vous :", options:["Vous v√©rifiez calmement les informations","Vous dites que votre coll√®gue s‚Äôest tromp√©","Vous demandez au client d‚Äôappeler demain"], correct:0},

  {text:"Une cliente dit : ¬´ J‚Äôaimerais comprendre pourquoi cela prend autant de temps. ¬ª Elle attend :", options:["Une justification agressive","Une explication claire et transparente","Que vous acc√©l√©riez sans parler"], correct:1},

  {text:"Un coll√®gue : ¬´ Je suis d√©bord√©, je n‚Äôy arrive plus. ¬ª R√©flexe professionnel :", options:["Proposer de prioriser ensemble","Dire : ¬´ Moi aussi ¬ª, et partir","Ignorer"], correct:0},

  {text:"Client : ¬´ Je ne veux plus parler √† personne ici. ¬ª Vous :", options:["¬´ Je vais vous aider personnellement. ¬ª","¬´ Alors partez. ¬ª","¬´ Ce n‚Äôest pas possible. ¬ª"], correct:0},

  {text:"Un client envoie un email tr√®s long et confus. Votre premi√®re √©tape :", options:["Vous r√©pondez par un message tr√®s court","Vous clarifiez point par point","Vous dites : r√©sumez mieux"], correct:1},

  {text:"Un coll√®gue dit : ¬´ Le client √©tait agressif mais je pense que je l‚Äôai calm√©. ¬ª Comportement attendu :", options:["Demander comment il a fait","Ne pas s‚Äôint√©resser","Se moquer du client"], correct:0},

  {text:"Un client l√®ve la voix. Le bon r√©flexe :", options:["Garder une posture ouverte et calme","Regarder ailleurs","Relever le ton aussi"], correct:0},

  {text:"Client : ¬´ Je veux juste quelqu‚Äôun qui me comprenne. ¬ª Ce qu‚Äôil exprime r√©ellement :", options:["Un besoin d‚Äô√©coute active","Une envie de partir","Un refus de parler"], correct:0},

  {text:"Un coll√®gue fait une erreur et le client est f√¢ch√©. Vous :", options:["Accusez le coll√®gue","Pr√©sentez des excuses au nom de l'√©quipe","Dites que le client exag√®re"], correct:1},

  {text:"Email : ¬´ Merci de me tenir inform√© r√©guli√®rement. ¬ª Cela signifie :", options:["Envoyer un message toutes les secondes","Envoyer des mises √† jour claires √† intervalles raisonnables","Ne plus √©crire du tout"], correct:1},

  {text:"Client : ¬´ Ce n‚Äôest pas acceptable ! ¬ª La meilleure r√©ponse :", options:["Justifier imm√©diatement","Reconna√Ætre l‚Äô√©motion et proposer une solution","Dire qu‚Äôil exag√®re"], correct:1},

  {text:"Vous observez qu‚Äôun client devient plus calme apr√®s que vous reformulez ses propos. Cela montre :", options:["Que la reformulation cr√©e compr√©hension et apaisement","Que vous r√©p√©tez trop","Qu‚Äôil veut partir"], correct:0},

  {text:"Un coll√®gue dit : ¬´ Ce client me met une pression √©norme. ¬ª Vous :", options:["Lui proposez un soutien ou une strat√©gie","Lui dites de changer de travail","L‚Äôignorez"], correct:0},

  {text:"Client : ¬´ Je ne comprends plus rien √† vos explications techniques. ¬ª Vous :", options:["Simplifiez et utilisez des exemples","Acc√©l√©rez","R√©p√©tez les m√™mes mots"], correct:0},

  {text:"Un client vous √©crit : ¬´ Je souhaite un retour clair sur les prochaines √©tapes. ¬ª", options:["Vous d√©crivez les √©tapes pr√©cis√©ment","Vous dites : on verra","Vous envoyez juste : OK"], correct:0},

  {text:"Client : ¬´ Je trouve votre ton un peu sec. ¬ª Votre r√©ponse :", options:["¬´ Ce n‚Äô√©tait pas mon intention, je reformule. ¬ª","¬´ C‚Äôest votre impression. ¬ª","¬´ Je suis comme √ßa. ¬ª"], correct:0},

  {text:"Un coll√®gue dit : ¬´ On doit harmoniser notre communication. ¬ª Cela implique :", options:["Aligner les messages pour √©viter contradictions","Ne plus communiquer du tout","Faire chacun √† sa mani√®re"], correct:0},

  {text:"Un client √©crit : ¬´ Je reste ouvert √† une solution. ¬ª Cela signifie :", options:["Il attend une proposition","Il abandonne","Il veut un remboursement imm√©diat"], correct:0},

  {text:"Client : ¬´ Donc si je comprends bien‚Ä¶ ¬ª Que devez-vous faire ?", options:["Valider et clarifier","L‚Äôinterrompre","Dire : oui oui"], correct:0},

  {text:"Message interne : ¬´ Merci d‚Äôadopter une posture constructive. ¬ª Cela signifie :", options:["Accuser les autres","Chercher des solutions et rester collaboratif","√âviter la discussion"], correct:1},

  {text:"Client : ¬´ Je suis vraiment d√©√ßu. ¬ª La priorit√© :", options:["Reconna√Ætre l‚Äô√©motion","Lui expliquer qu‚Äôil a tort","Changer de sujet"], correct:0},

  {text:"Un coll√®gue coupe la parole constamment en r√©union. Vous :", options:["Proposez un tour de parole","Criez plus fort","Quittez la salle"], correct:0},

  {text:"Client : ¬´ Je veux parler √† quelqu‚Äôun de comp√©tent. ¬ª Vous :", options:["Restez calme et reformulez pour comprendre son besoin","Vous vexez","Vous raccrochez"], correct:0},

  {text:"Un client ne r√©pond plus depuis 2 semaines. La r√©ponse professionnelle :", options:["Envoyer un rappel courtois","L‚Äôoublier","Dire qu‚Äôil n‚Äôest pas s√©rieux"], correct:0},

  {text:"Client : ¬´ √áa fait trois emails sans r√©ponse. ¬ª Vous :", options:["Reconnaissez le d√©lai et r√©pondez pr√©cis√©ment","Dites qu‚Äôil exag√®re","Ignorez"], correct:0},

  {text:"Un coll√®gue : ¬´ Je trouve ton message un peu direct. ¬ª Vous :", options:["Demandez ce qui peut √™tre am√©lior√©","Dites qu'il est trop sensible","Ignorez"], correct:0},

  {text:"Client : ¬´ Vous ne m‚Äôavez pas compris. ¬ª Vous :", options:["Demandez de pr√©ciser et reformulez","Vous √©nervez","Continuez sans √©couter"], correct:0},

  {text:"Un email demande : ¬´ Merci de pr√©ciser votre d√©lai r√©aliste. ¬ª Vous :", options:["√âvaluez et donnez un d√©lai clair","Promettez vite sans r√©fl√©chir","Ne r√©pondez pas"], correct:0},

  {text:"Client : ¬´ Je reste insatisfait malgr√© vos explications. ¬ª Votre r√©action :", options:["Explorer ce qui manque","Dit qu'il est compliqu√©","Terminer la conversation"], correct:0},

  {text:"Un coll√®gue re√ßoit beaucoup de critiques de clients. Vous :", options:["L‚Äôaidez √† analyser les causes","Vous moquez de lui","Ignorez"], correct:0},

  {text:"Client : ¬´ Je ne veux pas de conflit. ¬ª Ce que cela signifie :", options:["Il veut trouver une solution","Il veut se battre","Il veut partir"], correct:0},

  {text:"Situation : un client se plaint d‚Äôun coll√®gue absent. Vous :", options:["Assurez un suivi √† sa place","Dites que ce n‚Äôest pas votre probl√®me","Bl√¢mez le coll√®gue"], correct:0},

  {text:"Un client vous remercie apr√®s un long conflit r√©solu. Votre r√©ponse :", options:["Un message courtois cl√¥turant positivement","Un message froid","Pas de r√©ponse"], correct:0},

  {text:"Email client : ¬´ Je souhaiterais √©viter que cette situation se reproduise. ¬ª Vous :", options:["Proposez des mesures pr√©ventives","Dites que ce n‚Äôest pas possible","Ignorez"], correct:0},

  {text:"Dialogue : un client parle vite car il est stress√©. Vous :", options:["Ralentissez votre propre rythme pour apaiser","Parlez encore plus vite","Interrompez"], correct:0},

  {text:"Un coll√®gue dit : ¬´ Je crois qu‚Äôon communique trop par √©crit et pas assez en direct. ¬ª Vous :", options:["Proposez un √©change en personne","Envoyez encore plus d‚Äôemails","Refusez de parler"], correct:0},

  {text:"Un client exige une solution impossible. Vous :", options:["Expliquez calmement les limites et proposez des alternatives","Dites simplement non","C√©dez m√™me si c‚Äôest interdit"], correct:0},

  {text:"Client : ¬´ Vous dites √ßa pour me calmer ? ¬ª Vous :", options:["Clarifiez votre intention et restez factuel","R√©pondez oui","Riez"], correct:0},

  {text:"Un coll√®gue dit : ¬´ Je n‚Äôai pas compris ton mail, peux-tu pr√©ciser ? ¬ª R√©ponse :", options:["Vous reformulez","Vous dites qu‚Äôil doit mieux lire","Vous vous √©nervez"], correct:0},

  {text:"Un client dit : ¬´ Je veux √™tre s√ªr qu‚Äôon avance vraiment. ¬ª Vous :", options:["Expliquez les √©tapes d√©j√† r√©alis√©es et celles √† venir","Dites : on verra","Changez de sujet"], correct:0}
];

// ----------------------------------------------------
// LOGIQUE DU QUIZ
// ----------------------------------------------------
let index = parseInt(localStorage.getItem('quizC1_index') || '0');
let score = parseInt(localStorage.getItem('quizC1_score') || '0');
let answered = false;
let firstAttempt = true;
let currentCorrectIndex = null;

const scoreSpan = document.getElementById('score');
const totalSpan = document.getElementById('total');
scoreSpan.textContent = score;
totalSpan.textContent = questions.length;

function shuffleArray(arr){
  for(let i = arr.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function startQuiz(){
  document.getElementById('intro').style.display = 'none';
  document.getElementById('quizContainer').style.display = 'block';
}

function loadQuestion(){
  if(index >= questions.length){
    document.getElementById('scenario').innerHTML = "Quiz termin√© !";
    document.getElementById('options').innerHTML = "";
    document.getElementById('feedback').innerHTML = "Votre score final : " + score + "/" + questions.length;
    document.getElementById('resetBtn').style.display = "block";
    if (window.proactifMarkExerciseDone) {
      try { window.proactifMarkExerciseDone(); } catch (e) { }
    }
    return;
  }

  const q = questions[index];
  answered = false;
  firstAttempt = true;
  currentCorrectIndex = null;
  document.getElementById('feedback').innerHTML = "";
  document.getElementById('scenario').textContent = q.text;

  const optionObjects = q.options.map((opt, idx) => ({ text: opt, originalIndex: idx }));
  shuffleArray(optionObjects);

  optionObjects.forEach((obj, newIdx) => {
    if(obj.originalIndex === q.correct){
      currentCorrectIndex = newIdx;
    }
  });

  let html = "";
  optionObjects.forEach((obj, i) => {
    html += `<div class="option" onclick="choose(${i})">${obj.text}</div>`;
  });
  document.getElementById('options').innerHTML = html;
}

function choose(i){
  if(answered) return;

  if(i === currentCorrectIndex){
    if(firstAttempt){
      score++;
      localStorage.setItem('quizC1_score', score.toString());
      scoreSpan.textContent = score;
    }
    document.getElementById('feedback').innerHTML = '<div class="correct">‚úî Bonne r√©ponse !</div>';
    answered = true;

    setTimeout(() => {
      index++;
      localStorage.setItem('quizC1_index', index.toString());
      loadQuestion();
    }, 700);
  } else {
    document.getElementById('feedback').innerHTML = '<div class="wrong">‚úò Mauvaise r√©ponse</div>';
    firstAttempt = false;
  }
}

function resetAll(){
  localStorage.removeItem('quizC1_index');
  localStorage.removeItem('quizC1_score');
  index = 0;
  score = 0;
  answered = false;
  firstAttempt = true;
  scoreSpan.textContent = score;
  document.getElementById('resetBtn').style.display = 'none';
  loadQuestion();
}

loadQuestion();
</script>

  </main>
</div>

</body>
</html>
